# Development overrides
# This file is automatically loaded by docker-compose
version: '3.8'

services:
  # In development, use local source with hot reload
  web:
    build:
      context: .
      target: development
    volumes:
      - .:/app
      - /app/node_modules
    environment:
      - NODE_ENV=development

  # Go service with live reload (using air)
  orchestrator:
    build:
      context: ./services/orchestrator-go
      target: development
    volumes:
      - ./services/orchestrator-go:/app
    command: go run ./cmd/orchestrator

  # Python service with auto-reload
  memory:
    volumes:
      - ./services/memory-service:/app
    command: uvicorn src.api.main:app --host 0.0.0.0 --port 8000 --reload
